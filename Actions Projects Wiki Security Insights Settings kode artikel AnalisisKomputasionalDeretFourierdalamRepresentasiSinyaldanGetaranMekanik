import numpy as np
import matplotlib.pyplot as plt

# Fungsi untuk membangkitkan sinyal kotak dari deret Fourier
def fourier_square_wave(t, N):
    f = np.zeros_like(t)
    for n in range(1, N*2, 2):  # hanya komponen ganjil
        f += (4 / (np.pi * n)) * np.sin(n * t)
    return f

# Sumbu waktu
T = 2 * np.pi
t = np.linspace(0, T, 1000)

# Daftar jumlah harmonik yang akan dibandingkan
harmonik_list = [5, 10, 20, 50]

# Plot hasilnya
plt.figure(figsize=(12, 8))

for i, N in enumerate(harmonik_list):
    y = fourier_square_wave(t, N)
    plt.subplot(2, 2, i + 1)
    plt.plot(t, y)
    plt.title(f'Representasi Sinyal Kotak\n{N} Harmonik')
    plt.xlabel('Waktu (t)')
    plt.ylabel('Amplitudo')
    plt.grid(True)

plt.tight_layout()
plt.suptitle('Perbandingan Representasi Deret Fourier untuk Sinyal Kotak', fontsize=14, y=1.02)
plt.savefig('perbandingan_fourier_sinyal_kotak.png', dpi=300)
plt.show()
